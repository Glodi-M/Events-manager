<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>
			{% block title %}Bienvenue sur Evento!
			{% endblock %}
		</title>
		<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
		<link rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.min.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> {% block stylesheets %}{% endblock %}
		</head>

		<!-- Navbar -->
		<nav class="navbar navbar-expand-lg bg-dark sticky-top" data-bs-theme="dark">
    <div class="container-fluid">
        <div class="d-flex justify-content-between w-100">
            <!-- Partie gauche : "Evento" -->
            <a class="navbar-brand" href="/">Evento</a>

            <!-- Partie centrale -->
            {% if app.user %}
                <div class="d-flex justify-content-center w-100">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active text-white" href="/">Accueil</a>
                        </li>
                        
                        {% if 'ROLE_ADMIN' in app.user.getRoles() %}
                            <!-- Lien création d'événement pour l'admin -->
                            <li class="nav-item">
                                <a class="nav-link active text-white" href="{{ path('create_event') }}">Création de l'événement</a>
                            </li>
                        {% elseif 'ROLE_USER' in app.user.getRoles() %}
                            <!-- Lien mes événements pour l'utilisateur -->
                            <li class="nav-item">
                                <a class="nav-link active text-white" href="{{ path('create_event') }}">Mes événements</a>
                            </li>
                        {% endif %}
                    </ul>
                </div>
            {% endif %}

            <!-- Partie droite : Connexion, Inscription ou Déconnexion -->
            <ul class="navbar-nav ms-auto d-flex align-items-center space-x-4">
                {% if app.user %}
                    <!-- Si l'utilisateur est connecté -->
                    <li class="nav-item">
                        <span class="nav-link text-white">Bonjour, {{ app.user.username }}</span>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="{{ path('app_logout') }}">Déconnexion</a>
                    </li>
                {% else %}
                    <!-- Si l'utilisateur n'est pas connecté -->
                    <li class="nav-item">
                        <a class="nav-link" href="{{ path('app_register') }}">Inscription</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ path('app_login') }}">Connexion</a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>


		<!-- Main content -->
		<div>
			{% block body %}{% endblock %}
		</div>

		<!-- Scripts -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
		{% block javascripts %}{% endblock %}
	</html>
